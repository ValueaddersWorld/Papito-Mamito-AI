# Railway.toml - Railway deployment configuration
# See: https://docs.railway.app/reference/config-as-code

[build]
builder = "DOCKERFILE"
dockerfilePath = "./Dockerfile"

[deploy]
# Wrap in sh -c to ensure $PORT is expanded by the shell
startCommand = "sh -c 'python -m uvicorn papito_core.api:app --host 0.0.0.0 --port $PORT'"

# Restart on failure
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 5

[service]
# Use Railway's PORT environment variable
internalPort = 8000
